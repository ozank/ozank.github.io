<!DOCTYPE html>
<html>
  <head>
    <title>EE464-Static Power Conversion-II</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# EE-464 STATIC POWER CONVERSION-II

# Isolated Switching Power Supplies

## Ozan Keysan

## [keysan.me](http://keysan.me)

### Office: C-113 <span class="meta">&#8226;</span> Tel: 210 7586

---
# Regulated Power Supplies
--

- ## Regulated Output Voltage
--

- ## Electric Isolation
--

- ## Minimum size, weight
--

- ## Minimum cost
--

- ## Maximum efficiency

---

# Linear Regulators

--

<img src="https://c.76.my/Malaysia/lm7805-voltage-regulator-arelectronics-1710-24-F582919_1.jpg" alt="Drawing" style="width: 500px;"/>

---
# Linear Power Supplies
--


<img src="./images/ee464/linear_power_supply.png" alt="Drawing" style="width: 700px;">

---
# Linear Power Supplies
--

- ## Low frequency transformer: large and heavy
--

- ## BJT operates in linear region: dissipates heat
--

- ## Efficiency is around 30-60%
--

- ## Advantage:
--
Minimum EMI Problems


---
# Switching DC Power Supply
--

<img src="./images/ee464/smps.png" alt="Drawing" style="width: 800px;">
---
# Switching DC Power Supply
--

## Multiple Output Case

<img src="./images/ee464/smps_multiple.png" alt="Drawing" style="width: 600px;">

---
# Case Study:
--

## [Apple Charger Teardown](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html)

<img src="http://static.righto.com/images/magsafe/inside-w600.jpg" alt="Drawing" style="width: 600px;">

---
## [Apple Charger Teardown](http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html)

<img src="http://static.righto.com/images/magsafe/components1-w750.png" alt="Drawing" style="width:600px;">
---
## New Versions of Chargers

- ## [Apple 20W USB-C Charger Teardown](https://www.youtube.com/watch?v=W-FlBXTAKDs)

- ## [Teardown Apple 140W USB-C GaN Charger](https://www.chargerlab.com/teardown-of-brand-new-apple-140w-usb-c-gan-charger/)

- ##Â [USB Type-C PD: Power Delivery](https://www.st.com/content/ccc/resource/sales_and_marketing/presentation/product_presentation/group0/5a/b1/8e/6c/2b/0d/46/3c/Apec/files/APEC_2016_USB_Power.pdf/_jcr_content/translations/en.APEC_2016_USB_Power.pdf)

- ## [A Primer on USB Type-C and USB Power Delivery](https://www.ti.com/lit/wp/slyy109a/slyy109a.pdf)
---
# Flyback Converter

<img src="./images/ee464/flyback_photo.png" alt="Drawing" style="width: 700px;">

---
# Flyback Converter Evolution

<img src="./images/ee464/flyback1.png" alt="Drawing" style="width: 700px;">

## Start from the buck-boost converter


---
# Flyback Converter Evolution

<img src="./images/ee464/flyback2.png" alt="Drawing" style="width: 700px;">

## Wound the inductor with two parallel wires

### Don't get confused with the dots yet!

---
# Flyback Converter Evolution

<img src="./images/ee464/flyback3.png" alt="Drawing" style="width: 700px;">

## Isolate inductor wires (isolated converter)

---
# Flyback Converter Evolution

<img src="./images/ee464/flyback4.png" alt="Drawing" style="width: 600px;">

## Modify turns ratio to adjust output voltage and direction to get positive output

---
# Back to EE361
--

## Ideal Transformer
--


<img src="./images/ee464/transformer_symbol.png" alt="Drawing" style="width: 500px;">


---
# Back to EE361

## Ideal Transformer

<img src="./images/ee464/transformer_core.png" alt="Drawing" style="width: 800px;">

---
# Back to EE361
--

## Realistic Transformer Equivalent Circuit
--

<img src="./images/ee464/transformer_full.png" alt="Drawing" style="width: 800px;">

---
# Flyback Converter

## Let's ignore resistive parts and leakage flux for now

<img src="./images/ee464/transformer_simple.png" alt="Drawing" style="width: 500px;">


---
# Flyback Converter with Transformer

<img src="./images/ee464/flyback_schematic.png" alt="Drawing" style="width: 600px;">

---
# Flyback Converter with Transformer

<img src="./images/ee464/flyback_schematic2.png" alt="Drawing" style="width: 600px;">



## Can you plot the operating modes?
---

# Flyback Converter

## Switch ON


<img src="./images/ee464/flyback_on.png" alt="Drawing" style="width: 600px;">

---

# Flyback Converter

## Switch OFF


<img src="./images/ee464/flyback_off.png" alt="Drawing" style="width: 600px;">

---

# [Flyback Converter](https://www.plexim.com/academy/power-electronics/flyback-conv)

<img src="./images/ee464/flyback_waveform1.png" alt="Drawing" style="width: 450px;">

---

# [Flyback Converter](https://www.plexim.com/academy/power-electronics/flyback-conv)

<img src="./images/ee464/flyback_waveform2.png" alt="Drawing" style="width: 500px;">


---
# Flyback Converter

### Conversion ratio can be calculated in three different ways:


- ### Magnetic Circuit: Transformer Flux


- ### Steady state current


- ### Graphically: Voltage-seconds area of the inductor
--

# \\(\dfrac{V_o}{V_d} = \dfrac{D}{(1-D)} \dfrac{N_2}{N_1} \\)
---
## Switch Selection
--

### Peak Switch Current
--

### \\(\hat{I}_{sw}=  \dfrac{1}{(1-D)} \dfrac{N_2}{N_1} I\_o + \dfrac{N\_1}{N\_2} \dfrac{(1-D)T\_s}{2L\_m}V\_o\\)
--

### Peak Switch Voltage
--


### \\( \hat{V}_{sw} = V\_d + \dfrac{N_1}{N_2}V\_o\\)
--
\\(=\dfrac{V\_d}{(1-D)}\\)

---
# Flyback Converter: DCM

<img src="./images/ee464/flyback_dcm.png" alt="Drawing" style="width: 600px;">

---
# Flyback Example

### Hart 7.1

<img src="./images/ee464/flyback_example.png" alt="Drawing" style="width: 800px;">

---
# Reading Materials

- ## [The Flyback Converter](https://pdf4pro.com/view/the-flyback-converter-university-of-colorado-boulder-5bb172.html)

- ## [Flyback transformer tutorial: function and design](https://www.eetimes.com/document.asp?doc_id=1273089)

- ## [Flyback Converter Video](https://training.ti.com/understanding-basics-flyback-converter)

- ## [Designing a DCM flyback converter](https://www.edn.com/power-tips-98-designing-a-dcm-flyback-converter/)

- ## [Flyback DCM vs CCM](https://www.icbanq.com/icbank_data/online_seminar_image/Flyback_CCMVsDCM_Rev1p2.pdf)

- ## [The Difference between CCM and DCM Explained](https://www.monolithicpower.com/en/the-difference-between-ccm-and-dcm-explained)
---
# Flyback Variations: Two Transistor Flyback
--

<img src="./images/ee464/two_transistor_flyback.png" alt="Drawing" style="width: 400px;">

- #### [Improving the Performance of Traditional Flyback with Two Switch Approach](https://www.ti.com/lit/an/snva716/snva716.pdf)

- #### [Operation & Benefits of Two-Switch Forward/Flyback Power Converter Topologies](https://www.embedded.com/operation-benefits-of-two-switch-forward-flyback-power-converter-topologies/)
---
# Flyback Variations: Paralled Flyback
--

<img src="./images/ee464/parallel_flyback.png" alt="Drawing" style="width: 500px;">
---
# Forward Converter
--

## Derived from the Buck Converter

<img src="./images/ee464/forward_converter.png" alt="Drawing" style="width: 700px;">
---
# Forward Converter
## Let's obtain the output voltage characteristics

<!--
## Can you obtain the output voltage characteristics?

# Quiz -Q1
# Quiz -Q2

## Choose a duty cycle and turns ratio, to get 12V DC from a 200V DC input.

-->

---

# Forward Converter


## A buck converter with added turns ratio

# \\(\dfrac{V_o}{V_d} =\dfrac{N_2}{N_1} D \\)

---
# Forward Converter

<img src="./images/ee464/forward_converter.png" alt="Drawing" style="width: 700px;">

## What happens at the instant when the switch is turned-off, if the transformer is not ideal?

---
# Forward Converter

<img src="./images/ee464/forward_converter.png" alt="Drawing" style="width: 700px;">

## A discharging path for Lm should be added.

---
# Simple Solution: RCD Reset Circuit

<img src="./images/ee464/forward_rcd.png" alt="Drawing" style="width: 750px;">

## Magnetizing current dissipates through RCD circuit

---
# Simple Solution: RCD Reset Circuit

<img src="./images/ee464/forward_rcd.png" alt="Drawing" style="width: 750px;">

## Cheap but inefficient

---
# RCD Snubber

### Note a similar circuit can be used for the Flyback converter (to reduce inductance leakage ringing)
--

<img src="./images/ee464/flyback_rcd.png" alt="Drawing" style="width: 450px;">

### Suggested Reading: [Flyback Converter Snubber Design](http://ridleyengineering.com/images/phocadownload/12%20flyback%20snubber%20design.pdf)

---
# Practical Forward Converter

<img src="./images/ee464/practical_forward.png" alt="Drawing" style="width: 800px;">

## A transformer with two-primary windings
### Third winding is added to discharge the energy stored in Lm
---

# Practical Forward Converter

<img src="./images/ee464/practical_forward_Lm.png" alt="Drawing" style="width: 800px;">

## A transformer with two-primary windings
### Third winding is added to discharge the energy store

---

# Forward Converter

<img src="./images/ee464/forward1.png" alt="Drawing" style="width: 800px;">

---

## Forward Converter: Switch is ON

<img src="./images/ee464/forward2.png" alt="Drawing" style="width: 700px;">

### Lm is charged by input voltage, Lx is also charging
### D1 On, D2 Off, D3 Off 

---

## Forward Converter: Switch is OFF

<img src="./images/ee464/forward3.png" alt="Drawing" style="width: 600px;">

### Lx feeds the load, Lm is discharged to the source: \\(i\_{1} = - i\_{Lm} \\)

### KCL: \\(N_1 i_1 = N_2 i_2 - N_3 i_3\\)

### For proper operation the transformer should be "reset" before next ON period
---
## Forward Converter: Switch is OFF

---

## Forward Converter

<img src="./images/ee464/forward_current.png" alt="Drawing" style="width: 500px;">

---

## Forward Converter

<img src="./images/ee464/forward_current2.png" alt="Drawing" style="width: 500px;">


---
# Practical Forward Converter
### For proper operation the transformer should be "reset" before next ON period

## \\(t\_m < (1-D) T\_s\\)
--

## \\(D\_{max}\\)
--
\\(=\dfrac{1}{1+ (N\_3 / N\_1)}\\)

---
### What happens if D is large, and transformer does not reset completely?
--

<img src="./images/ee464/forward_saturation.png" alt="Drawing" style="width: 450px;">

#### In the figure Dmax=0.5

### Saturation, increased core losses, reduced Lm, problem in power transfer

---
# Advantages over Flyback


- ## Better utilization of transformer (direct power transfer, higher)


- ## A gapless core can be used (higher Lm, less ripple)


- ## Output inductor and diode ensures continuous output current

---
# Drawbacks compared to Flyback


- ## Increased cost (extra diode and inductor)


- ## Gain changes a lot in DCM


- ## Higher voltage requirement for MOSFET

---
# Forward Converter Alternatives
--

## Two-switch forward converter

<img src="./images/ee464/forward_two_switch.png" alt="Drawing" style="width: 600px;">

---
# Forward Converter Alternatives

## Two-switch forward converter


<img src="./images/ee464/forward_two_switch2.jpg" alt="Drawing" style="width: 800px;">

---
# Two-switch forward converter

## Advantages:


- ### Does not require a snubber circuit

- ### Less voltage stress on MOSFETs

- ### Can supply multiple isolated outputs

- ### Low power losses and noise
---

## Two-switch forward converter

## Disadvantages:

- ### Slightly more expensive

- ### Larger component count
---

##  Interleaved forward converter

<img src="./images/ee464/interleaved_forward.png" alt="Drawing" style="width: 750px;">

---
# Forward Converter Reading Materials

- ## [Infineon, Forward Converter Design Note](http://www.digikey.com/web%20export/supplier%20content/Infineon_448/mkt/coolMOS/SingleXTRForward.pdf?redirected=1)

- ## [Fairchild Forward Converter Application Note](https://www.onsemi.com/pub/Collateral/AN-4134.PDF)

---
# Example:

## Hart - Power Electronics 
## Ex. 7-4


---
# Push-Pull Converter
--

<img src="./images/ee464/push_pull.png" alt="Drawing" style="width: 750px;">

### Uses a center-tapped transformer

---
# Push-Pull Converter


<img src="./images/ee464/push_pull_operation_modes.png" alt="Drawing" style="width: 750px;">

### Three operating sections


---
# Push-Pull Converter

## Switch(T1) ON, Switch(T2) OFF

### D1 conducts, D2 reverse-biased
--

### \\(v\_{x}= \dfrac{N\_2}{N\_1} V\_s \\)
--

### \\(v\_{L}= v\_{x} - V\_o = \dfrac{N\_2}{N\_1} V\_s - V\_o  \\)


### \\(i\_L\\) increases linearly
---

# Push-Pull Converter

## Switch(T2) ON, Switch(T1) OFF
### Symmetrical operation with the previous

### \\(v\_{x}= \dfrac{N\_2}{N\_1} V\_s \\)
--

### \\(v\_{L}= v\_{x} - V\_o = \dfrac{N\_2}{N\_1} V\_s - V\_o  \\)


### \\(i\_L\\) increases linearly

---

# Push-Pull Converter

## Both Switches are OFF
### for a period of \\(\Delta\\)
--

### Both D1 and D2 conducts

### \\(I\_{D1} = I\_{D2} = 0.5 I\_{L} \\)

### \\(v\_{x}= 0 \\)
--

### Therefore \\(v\_{L}= -V\_o  \\)

### Inductor discharges and feeds the load
---


### Repeating waveforms for every Ts/2


<img src="./images/ee464/push_pull_operation2.png" alt="Drawing" style="width: 600px;">


---

# Push-Pull Converter

## Repeating waveforms for every Ts/2

## \\(D T\_s + \Delta = \dfrac{T\_s}{2}  \\)


## \\(\Delta  = \dfrac{(1-2D)}{2}T\_s  \\)

---

# Push-Pull Converter

## Output voltage characteristics?
--

## Use the inductor voltage
--

# \\(\dfrac{V_o}{V_d} =\dfrac{2N_2}{N_1} D \\)

### Twice of the forward converter
---
# Push-Pull Converter
### Comparison of Magnetic Flux in the Core

<img src="./images/ee464/push_pull_magnetic.png" alt="Drawing" style="width: 700px;">

---
# Extra Materials

## Flyback Converter

#### [ECEN4517 Lecture Notes](http://ecee.colorado.edu/ecen4517/materials/flyback.pdf)

#### [Flyback Transformer Tutorial](https://www.eetimes.com/document.asp?doc_id=1273089)

#### [Optimised Flyback Design](http://www.eenewspower.com/content/step-step-optimised-flyback-design)

#### [Switch Mode Power Supply (SMPS) Topologies](http://ww1.microchip.com/downloads/en/AppNotes/01207B.pdf)

#### [ECE5797 SMPSs](http://ecee.colorado.edu/~ecen5797/course_material/Ch6slides.pdf)

#### [Flyback Converter, Transformer Design](https://coefs.uncc.edu/mnoras/files/2013/03/Transformer-and-Inductor-Design-Handbook_Chapter_13.pdf)

#### [Design Guide Flyback Converter](https://www.fairchildsemi.com/application-notes/AN/AN-4137.pdf)

#### [Design Guidelines for Flyback Converter](https://www.monolithicpower.com/Portals/0/Documents/Products/Documents/appnotes/AN069_r1.0.pdf)

### [Transformer Design Cookbook](https://www.digikey.com/Web%20Export/Supplier%20Content/Wurth_732/PDF/Wurth_CookbookforTransformerDesign.pdf?redirected=1)

---
# Extra Materials

## Forward Converter

### [Forward Converter, Transformer, Inductor Design](https://coefs.uncc.edu/mnoras/files/2013/03/Transformer-and-Inductor-Design-Handbook_Chapter_14.pdf)

### [Forward Converter Design](https://www.mouser.com/pdfdocs/2-10.pdf)

### [Forward Converter Tutorial Video](https://training.ti.com/topology-tutorial-what-forward-converter)
---
# Design Exercise
--

## [Forward Converter Design](https://www.mouser.com/pdfdocs/2-10.pdf)

### [ETD 34/17/11](https://product.tdk.com/info/en/documents/data_sheet/etd_34_17_11.pdf)

--

### [Skin Effect Calculator](https://www.allaboutcircuits.com/tools/skin-depth-calculator/)

### [AWG Conductors](https://en.wikipedia.org/wiki/American_wire_gauge)
---
## You can download this presentation from: [keysan.me/ee464](http://keysan.me/ee464)


    </textarea>
    <script src="http://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML&delayStartupUntil=configured" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create({countIncrementalSlides: false});

      // Setup MathJax
      MathJax.Hub.Config({
          tex2jax: {
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
          }
      });
      MathJax.Hub.Queue(function() {
          $(MathJax.Hub.getAllJax()).map(function(index, elem) {
              return(elem.SourceElement());
          }).parent().addClass('has-jax');
      });

      MathJax.Hub.Configured();
    </script>
  </body>
</html>
